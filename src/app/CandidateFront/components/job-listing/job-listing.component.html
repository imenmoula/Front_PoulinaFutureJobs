<!doctype html>
<html class="no-js" lang="fr">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Poulina Group Holding - Offres d'emploi</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="manifest" href="site.webmanifest">
  <link rel="shortcut icon" type="image/x-icon" href="../../../assets/User/img/favicon.ico">
  <!-- Font Awesome pour les icônes -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
  <header>
    <div class="job-listing-header">
      <div class="container">
        <div class="logo">
          <a href="index.html"><img src="../../../assets/User/img/logo/poulina.jpg" alt="Poulina Group Holding"></a>
        </div>
        <nav class="main-nav">
          <ul>
            <li><a href="index.html">Accueil</a></li>
            <li><a class="active" href="/job-list">Offres d'emploi</a></li>
            <li><a href="/A propos">À propos</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </nav>
        <div class="auth-buttons">
          <a routerLink="/singup" class="btn-signup">Inscription</a>
          <a routerLink="/signin" class="btn-signin">Connexion</a>
        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- Bannière Hero -->
    <div class="hero-banner">
      <div class="container">
        <h1>Avec Poulina Groupe Holding, trouvez votre futur emploi et construisez votre carrière</h1>
        <div class="search-bar">
          <input type="text" [(ngModel)]="titrePoste" (ngModelChange)="onFilterChange()" 
                 placeholder="Rechercher par titre de poste...">
          <button (click)="onFilterChange()"><i class="fas fa-search"></i></button>
        </div>
      </div>
    </div>

    <!-- Contenu principal -->
    <div class="job-listing-main">
      <div class="container">
        <div class="job-listing-grid">
          <!-- Sidebar des filtres -->
          <aside class="filters-sidebar">
            <h1>Filtrer les offres</h1>
            
            <!-- Filtre par type de contrat -->
            <div class="filter-group">
              <h3><i class="fas fa-file-contract"></i> Type de contrat</h3>
              <div class="checkbox-list">
                <label *ngFor="let type of typesContrat">
                  <input type="checkbox" 
                         [checked]="selectedTypesContrat.includes(type)"
                         (change)="toggleTypeContrat(type)">
                  {{ type }}
                </label>
              </div>
            </div>

            <!-- Filtre par mode de travail -->
            <div class="filter-group">
              <h3><i class="fas fa-laptop-house"></i> Mode de travail</h3>
              <div class="checkbox-list">
                <label *ngFor="let mode of modesTravail">
                  <input type="checkbox" 
                         [checked]="selectedModesTravail.includes(mode)"
                         (change)="toggleModeTravail(mode)">
                  {{ mode }}
                </label>
              </div>
            </div>

            <!-- Filtre par spécialité -->
            <div class="filter-group">
              <h3><i class="fas fa-tag"></i> Spécialité</h3>
              <div class="checkbox-list">
                <label *ngFor="let spec of specialites">
                  <input type="checkbox" 
                         [checked]="selectedSpecialites.includes(spec)"
                         (change)="toggleSpecialite(spec)">
                  {{ spec }}
                </label>
              </div>
            </div>

            <!-- Filtre par niveau d'expérience -->
            <div class="filter-group">
              <h3><i class="fas fa-chart-line"></i> Niveau d'expérience</h3>
              <div class="checkbox-list">
                <label *ngFor="let niveau of niveauxExperience">
                  <input type="checkbox" 
                         [checked]="selectedNiveauxExperience.includes(niveau)"
                         (change)="toggleNiveauExperience(niveau)">
                  {{ niveau }}
                </label>
              </div>
            </div>

            <button class="reset-btn" (click)="resetFilters()">
              <i class="fas fa-undo"></i> Réinitialiser les filtres
            </button>
          </aside>

          <!-- Liste des offres -->
          <section class="job-listings">
            <div class="job-listings-header">
              <h2>Nos offres d'emploi</h2>
              <span class="job-count">{{ filteredOffres.length }} offres disponibles</span>
            </div>

            <div *ngIf="filteredOffres.length === 0" class="no-results">
              <i class="far fa-folder-open"></i>
              <p>Aucune offre ne correspond à vos critères de recherche.</p>
            </div>

            <div class="job-cards">
              <div *ngFor="let offre of getPaginatedOffres()" class="job-card">
                <div class="job-card-content">
                  <div class="job-info">
                    <h3 class="job-title">{{ offre.postes[0].titrePoste }}</h3>
                    
                    <div class="company-info">
                      <img *ngIf="filiales[offre.idFiliale]?.photo" 
                          [src]="filiales[offre.idFiliale].photo" 
                          alt="Logo filiale" 
                          class="company-logo">
                      <div>
                        <p class="company-name">
                          <i class="fas fa-building"></i> {{ filiales[offre.idFiliale].nom || 'Filiale inconnue' }}
                        </p>
                        <p class="company-address" *ngIf="filiales[offre.idFiliale]?.adresse">
                          <i class="fas fa-map-marker-alt"></i> {{ filiales[offre.idFiliale].adresse }}
                        </p>
                      </div>
                    </div>
                    
                    <div class="job-meta">
                      <div class="job-tags">
                        <span class="job-tag contract-tag">
                          <i class="fas fa-file-signature"></i> {{ offre.typeContrat }}
                        </span>
                        <span class="job-tag">
                          <i class="fas fa-tag"></i> {{ offre.specialite }}
                        </span>
                        <span class="job-tag">
                          <i class="fas fa-briefcase"></i> {{ offre.niveauExperienceRequis }}
                        </span>
                        <span class="job-tag">
                          <i class="fas fa-laptop-house"></i> {{ offre.modeTravail }}
                        </span>
                      </div>
                      
                      <p class="post-date">
                        <i class="far fa-clock"></i> Publié {{ timeSince(offre.datePublication) }}
                      </p>
                    </div>
                  </div>
                  
                  <div class="job-actions">
                    <a [routerLink]="['/job-details', offre.idOffreEmploi]" class="view-details-btn">
                      <i class="fas fa-eye"></i> Voir détails
                    </a>
                  </div>
                </div>
              </div>
            </div>

            <!-- Pagination -->
            <div *ngIf="totalPages > 1" class="pagination">
              <button (click)="prevPage()" [disabled]="currentPage === 1">
                <i class="fas fa-chevron-left"></i> Précédent
              </button>
              
              <span *ngFor="let page of getPages()" 
                    [class.active]="page === currentPage"
                    (click)="currentPage = page">
                {{ page }}
              </span>
              
              <button (click)="nextPage()" [disabled]="currentPage === totalPages">
                Suivant <i class="fas fa-chevron-right"></i>
              </button>
            </div>
          </section>
        </div>
      </div>
    </div>
  </main>

  <footer class="job-listing-footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <img src="../../../assets/User/img/logo/poulina.jpg" alt="Poulina Group Holding">
          <p>Construire ensemble l'avenir professionnel.</p>
        </div>
        
        <div class="footer-links">
          <div class="footer-column">
            <h4>Entreprise</h4>
            <a href="#">À propos</a>
            <a href="#">Carrières</a>
            <a href="#">Filiales</a>
            <a href="#">Actualités</a>
          </div>
          
          <div class="footer-column">
            <h4>Ressources</h4>
            <a href="#">FAQ</a>
            <a href="#">Conditions d'utilisation</a>
            <a href="#">Politique de confidentialité</a>
            <a href="#">Contact</a>
          </div>
          
          <div class="footer-column">
            <h4>Contact</h4>
            <p><i class="fas fa-map-marker-alt"></i> Tunisie, 1082</p>
            <p><i class="fas fa-phone"></i> +216 70 010 000</p>
            <p><i class="fas fa-envelope"></i> contactpoulina.com</p>
          </div>
        </div>
      </div>
      
      <div class="copyright">
        <p>&copy; {{ currentYear }} Poulina Group Holding. Tous droits réservés.</p>
      </div>
    </div>
  </footer>
</body>
</html>