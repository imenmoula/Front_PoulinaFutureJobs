<!doctype html>
<html class="no-js" lang="fr">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Poulina Group Holding - Détails de l'offre</title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="manifest" href="site.webmanifest">
  <link rel="shortcut icon" type="image/x-icon" href="../../../assets/User/img/favicon.ico">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
  <!-- Header -->
  <header>
    <div class="job-listing-header">
      <div class="container">
        <div class="logo">
          <a href="index.html"><img src="../../../assets/User/img/logo/poulina.jpg" alt="Poulina Group Holding"></a>
        </div>
        <nav class="main-nav">
          <ul>
            <li><a href="index.html">Accueil</a></li>
            <li><a href="/job-list">Offres d'emploi</a></li>
            <li><a href="/A propos">À propos</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </nav>
        <div class="auth-buttons">
          <a routerLink="/singup" class="btn-signup">Inscription</a>
          <a routerLink="/signin" class="btn-signin">Connexion</a>
        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- Hero Banner -->
    <div class="job-details-hero">
      <div class="container">
        <div class="hero-content">
          <h1>Détails de l'offre</h1>
          <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
              <li class="breadcrumb-item"><a href="/">Accueil</a></li>
              <li class="breadcrumb-item"><a href="/job-list">Offres d'emploi</a></li>
              <li class="breadcrumb-item active" aria-current="page">Détails</li>
            </ol>
          </nav>
        </div>
      </div>
    </div>

    <!-- Job Details -->
    <div class="job-details-container">
      <div class="container">
        <div class="job-details-grid">
          <!-- Main Content -->
          <div class="job-main-content">
            <!-- Job Header -->
            <div class="job-header">
              <div class="company-logo">
                <img [src]="filiale?.photo || '../../../assets/User/img/icon/job-list1.png'" alt="{{ filiale?.nom }}">
              </div>
              <div class="job-title-info">
                <h1>{{ offre.postes[0].titrePoste || 'Titre non disponible' }}</h1>
                <div class="job-meta">
                  <span><i class="fas fa-building"></i> {{ filiale?.nom || 'Entreprise non spécifiée' }}</span>
                  <span><i class="fas fa-map-marker-alt"></i> {{ filiale?.adresse || 'Localisation inconnue' }}</span>
                  <span><i class="fas fa-file-contract"></i> {{ offre.typeContrat || 'Type de contrat non spécifié' }}</span>
                  <span><i class="fas fa-money-bill-wave"></i> {{ offre.salaireMin || '--' }} - {{ offre.salaireMax || '--' }} €</span>
                </div>
              </div>
            </div>

            <!-- Job Description -->
            <div class="job-section">
              <h2><i class="fas fa-file-alt"></i> Description de l'offre</h2>
              <p>{{ offre.postes[0].description || 'Aucune description disponible.' }}</p>
            </div>

            <!-- Missions -->
            <div class="job-section">
              <h2><i class="fas fa-tasks"></i> Missions</h2>
              <ul class="job-list">
                <li *ngFor="let mission of missions">
                  <strong>{{ mission.descriptionMission || 'Mission non spécifiée' }}</strong>
                  <span class="priority-badge" [class.high]="mission.priorite == 1"
                    [class.medium]="mission.priorite == 2">
                    Priorité: {{ mission.priorite || 'Non spécifiée' }}
                  </span>
                </li>
                <li *ngIf="!missions?.length">Aucune mission spécifiée.</li>
              </ul>
            </div>

            <!-- Required Profile -->
            <div class="job-section">
              <h2><i class="fas fa-user-graduate"></i> Profil recherché</h2>
              <div class="profile-grid">
                <div class="profile-item">
                  <h3>Expérience</h3>
                  <p>{{ offre.niveauExperienceRequis || 'Non spécifié' }}</p>
                </div>
                <div class="profile-item">
                  <h3>Diplôme</h3>
                  <p>{{ offre.diplomes?.[0]?.nomDiplome || 'Non spécifié' }}</p>
                </div>
                <div class="profile-item">
                  <h3>Spécialité</h3>
                  <p>{{ offre.specialite || 'Non spécifiée' }}</p>
                </div>
              </div>
            </div>

            <!-- Skills -->
            <div class="job-section">
              <h2><i class="fas fa-code"></i> Compétences techniques</h2>
              <div class="skills-grid">
                <div *ngFor="let competence of competences" class="skill-item">
                  <span class="skill-name">{{ competence.competence?.nom || 'Compétence inconnue' }}</span>
                  <div class="skill-level">
                    <div class="level-bar" [style.width]="getSkillLevelWidth(competence.niveauRequis)"></div>
                    <span class="level-text">{{ competence.niveauRequis || 'Non spécifié' }}</span>
                  </div>
                </div>
                <div *ngIf="!competences?.length">Aucune compétence spécifiée.</div>
              </div>
            </div>

            <!-- Languages -->
            <div class="job-section">
              <h2><i class="fas fa-language"></i> Langues requises</h2>
              <div class="languages-grid">
                <div *ngFor="let langue of langues" class="language-item">
                  <span class="language-name">{{ langue.langue }}</span>
                  <span class="language-level">{{ langue.niveauRequis || 'Non spécifié' }}</span>
                </div>
                <div *ngIf="!langues?.length">Aucune langue spécifiée.</div>
              </div>
            </div>

            <!-- Benefits -->
            <div class="job-section">
              <h2><i class="fas fa-gift"></i> Avantages</h2>
              <ul class="benefits-list">
                <li *ngIf="offre.modeTravail"><i class="fas fa-laptop-house"></i> {{ getModeTravailLabel(offre.modeTravail) }}</li>
                <li *ngIf="offre.avantages"><i class="fas fa-utensils"></i> Tickets restaurant</li>
                <li *ngIf="offre.avantages"><i class="fas fa-graduation-cap"></i> Formation continue</li>
                <li *ngIf="offre.avantages"><i class="fas fa-bus"></i> Transport remboursé à 50%</li>
                <li *ngIf="!offre.avantages">Aucun avantage spécifié</li>
              </ul>
            </div>
          </div>

          <!-- Sidebar -->
          <div class="job-sidebar">
            <div class="sidebar-card">
              <h3><i class="fas fa-info-circle"></i> Aperçu de l'offre</h3>
              <div class="overview-item">
                <i class="fas fa-calendar"></i>
                <div>
                  <span>Date de publication</span>
                  <strong>{{ formatDate(offre.datePublication) }}</strong>
                </div>
              </div>
              <div class="overview-item">
                <i class="fas fa-clock"></i>
                <div>
                  <span>Date limite</span>
                  <strong>{{ formatDate(offre.dateExpiration) }}</strong>
                </div>
              </div>
              <div class="overview-item">
                <i class="fas fa-file-contract"></i>
                <div>
                  <span>Type de contrat</span>
                  <strong>{{ offre.typeContrat || 'Non spécifié' }}</strong>
                </div>

              </div>
              <div class="overview-item">
                <i class="fas fa-user-tie"></i>
                <div>
                  <span>Mode de travail</span>
                  <strong >
                    {{ getModeTravailLabel(offre.modeTravail) }}
                  </strong>
                </div>
              </div>
              <div class="overview-item">
                <i class="fas fa-money-bill-wave"></i>
                <div>
                  <span>Salaire</span>
                  <strong>{{ offre.salaireMin || '--' }} - {{ offre.salaireMax || '--' }} €</strong>
                </div>
              </div>
              <div class="overview-item">
                <i class="fas fa-user-tie"></i>
                <div>
                  <span>Statut</span>
                  <strong [style.color]="getStatutOffreColor(offre.statut)">
                    {{ getStatutOffreLabel(offre.statut) }}
                  </strong>
                </div>
              </div>
              <button class="apply-btn" (click)="navigateToCandidature()">Postuler maintenant</button>
            </div>

            <div class="sidebar-card company-info">
              <h3><i class="fas fa-building"></i> À propos de l'entreprise</h3>
              <div class="company-logo">
                <img [src]="filiale?.photo || '../../../assets/User/img/icon/job-list1.png'" alt="{{ filiale?.nom }}">
              </div>
              <h4>{{ filiale?.nom || 'Entreprise inconnue' }}</h4>
              <p>{{ filiale?.description || 'Aucune description disponible.' }}</p>
              <div class="company-contact">
                <div><i class="fas fa-globe"></i> <a [href]="filiale?.siteWeb || '#'" target="_blank">{{ filiale?.siteWeb || 'Site web non spécifié' }}</a></div>
                <div><i class="fas fa-envelope"></i> {{ filiale?.email || 'Email non spécifié' }}</div>
                <div><i class="fas fa-phone"></i> {{ filiale?.telephone || 'Téléphone non spécifié' }}</div>
                <div><i class="fas fa-map-marker-alt"></i> {{ filiale?.adresse || 'Adresse non spécifiée' }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="job-listing-footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-logo">
          <img src="../../../assets/User/img/logo/poulina.jpg" alt="Poulina Group Holding">
          <p>Construire ensemble l'avenir professionnel.</p>
        </div>
        
        <div class="footer-links">
          <div class="footer-column">
            <h4>Entreprise</h4>
            <a href="#">À propos</a>
            <a href="#">Carrières</a>
            <a href="#">Filiales</a>
            <a href="#">Actualités</a>
          </div>
          
          <div class="footer-column">
            <h4>Ressources</h4>
            <a href="#">FAQ</a>
            <a href="#">Conditions d'utilisation</a>
            <a href="#">Politique de confidentialité</a>
            <a href="#">Contact</a>
          </div>
          
          <div class="footer-column">
            <h4>Contact</h4>
            <p><i class="fas fa-map-marker-alt"></i> Tunisie, 1082</p>
            <p><i class="fas fa-phone"></i> +216 70 010 000</p>
            <p><i class="fas fa-envelope"></i> contactpoulina.com</p>
          </div>
        </div>
      </div>
      
      <div class="copyright">
        <!-- <p>&copy; {{ currentYear }} Poulina Group Holding. Tous droits réservés.</p> -->
      </div>
    </div>
  </footer>
</body>
</html>