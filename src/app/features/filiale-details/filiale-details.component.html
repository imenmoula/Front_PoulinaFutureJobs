<div class="container" *ngIf="filiale; else loading">
  <h2>Détails de la filiale : {{ filiale.nom }}</h2>

  <p *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</p>

  <div class="details">
    <p><strong>ID :</strong> {{ filiale.idFiliale }}</p>
    <p><strong>Nom :</strong> {{ filiale.nom }}</p>
    <p><strong>Adresse :</strong> {{ filiale.adresse }}</p>
    <p><strong>Description :</strong> {{ filiale.description || 'Aucune description' }}</p>
    <p><strong>Date de création :</strong> {{ filiale.dateCreation | date:'medium' }}</p>
    <p><strong>Photo :</strong></p>
    <div *ngIf="filiale.photo" class="photo">
      <img [src]="filiale.photo" alt="Photo de {{ filiale.nom }}" style="max-width: 300px; max-height: 300px;" (error)="onImageError($event)" />
    </div>
    <p *ngIf="!filiale.photo">Aucune photo disponible</p>
  </div>

  <div class="actions">
    <button class="btn btn-primary" [routerLink]="['/admin/filiales/edit', filiale.idFiliale]">Éditer</button>
    <button class="btn btn-danger" (click)="onDelete(filiale.idFiliale)">Supprimer</button>
    <button class="btn btn-secondary" [routerLink]="['/admin/filiales']">Retour à la liste</button>
  </div>
</div>

<ng-template #loading>
  <p class="alert alert-info">Chargement des détails de la filiale...</p>
</ng-template>